# 定位

### 术语解析

#### 文档流
字面文档的意思，将浏览器窗口当做一个一维平面的文档，所有的元素都会以规定好的方式摆放到这个一维平面上。
#### 定位元素
当元素升级为定位元素后，无论他原本是什么元素（block、inline-block、inner）都默认被内容所撑开，且都能自由的设置宽高。
#### 包含块
- 对于没有脱离文档流的元素，其父元素就是包含块；
- 对于脱离文档流的元素，第一个(离他最近的)开启定位的祖先元素，就是他的包含块，意思就是若当前元素脱离了文档流，
那么在他的所有祖先元素中，**离他最近的**并**开启定位的**，就是该元素的包含块。
#### 视口
即当前可见的浏览器页面内容的窗口大小
#### 定位的层级
- 定位元素的层级比普通元素高，无论是什么定位，显示层级都是一样的。
- 如果位置发生重叠，默认情况下为：后面的元素会显示在前面的元素之上
- 可以使用z-index调整元素的显示层级
- 只有定位元素才能设置z-index
- 如果z-index值大的元素A依然没有覆盖掉z-index小的元素B，那么请查看一下元素B的是否与A元素的包含块互为兄弟元素！
  - z-index是在兄弟元素ED进行比较，设E的z-index值为2，D的z-index值为9，E的子元素C z-index值为1000，或再大也无法覆盖D元素



## 1、相对定位
相对于当前元素在文档流的位置进行偏移

#### 使用
```css
.weizhi {
    position: relative
}
```

#### 参考点
参考当前元素在文档流的位置

#### 配合属性
```css
.offset {
    top: 0px;
    left: 0px;
    right: 0px;
    bottom: 0px;
    /*
        配合relative使用时，默认为0;
        left和right不能同时使用、top和bottom不能同时使用
    */
}
```


#### 特点
- 不会脱离文档流,相当于还在一维平面上
- 使用相对定位后，该元素升级成定位元素
- 定位元素能够继续浮动，但不推荐
- 定位元素能够使用margin调整位置，但不推荐


## 2、绝对定位

#### 使用
```css
.weizhi {
    position: absolute;
}
```

#### 参考点
参考该元素的包含块

#### 配合属性
```css
.offset {
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    /*
        若没有显式的写出属性，则默认值为该元素的所在位置相对于包含块的偏移量
        left和right不能同时使用、top和bottom不能同时使用
    */
}
```

#### 特点
- 脱离文档流，并对后面的兄弟、父元素有影响
- 无法和浮动一同设置，若同时设置，以定位为主
- 定位元素能够使用margin调整位置，但不推荐


## 3、固定定位

#### 使用
```css
.weizhi {
    position: fixed;
}
```

#### 参考点
默认参考视口

#### 配合属性
```css
.offset {
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    /*
        若没有显式的写出属性，则默认值为该元素的所在位置相对于视口的偏移量
        left和right不能同时使用、top和bottom不能同时使用
    */
}
```

#### 特点
- 完全固定在指定位置，无论滚动条如何拉，始终保留在视口上的这个位置
- 脱离文档流，并对后面的兄弟、父元素有影响
- 无法和浮动一同设置，若同时设置，以定位为主
- 定位元素能够使用margin调整位置，但不推荐


## 4、粘性定位
#### 使用
```css
.weizhi {
    position: sticky;
}
```

#### 参考点
离他最近的、拥有滚动机制的祖先元素

#### 配合属性
```css
.offset {
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    /*
        若没有显式的写出属性，则默认值为该元素的所在位置相对于包含块的偏移量
        left和right不能同时使用、top和bottom不能同时使用
    */
}
```

#### 特点
- 不会脱离文档流
- 可以和浮动一同设置，但不推荐
- 定位元素能够使用margin调整位置，但不推荐
- 总的来说与相对定位基本一直，不同的是，粘性定位可以在元素到达某个位置是将其固定。